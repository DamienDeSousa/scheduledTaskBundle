parameters:
    fileLog: dades_scheduled_task_bundle.log

services:
    _defaults:
        autowire: true
        autoconfigure: true
        public: false

    Dades\ScheduledTaskBundle\:
        resource: '../../*'
        exclude: '../../{Entity,Repository,Tests}'

    # Dades\ScheduledTaskBundle\Controller\:
    #     resource: '../../Controller'
    #     public: true
    #     tags: ['controller.service_arguments']

    Dades\ScheduledTaskBundle\Command\RunCronCommand:
        $projectDirectory: '%kernel.project_dir%'
        $fileLog: '%fileLog%'
        $scheduledCommandServices:
            - Dades\ScheduledTaskBundle\Service\ScheduledConsoleCommandService
            - Dades\ScheduledTaskBundle\Service\ScheduledSymfonyCommandService

    Dades\ScheduledTaskBundle\Service\Logger:
        $projectDirectory: '%kernel.project_dir%'
        $fileLog: '%fileLog%'
